function test_lp_solvers03(solver, tol)
% testing only equality constraints
% 

% initial data
A = [];

b = [];

Aeq1 =[  -0.6547    0.4409   -0.9812    1.7357    1.0821    1.3409   -0.0715    0.8564 
   -1.0807    1.2809   -0.6885    1.9375    2.3726    0.3881    0.2792    0.2685
   -0.0477   -0.4977    1.3395    1.6351    0.2293    0.3931    1.3733    0.6250
    0.3793   -1.1187   -0.9092   -1.2559   -0.2666   -1.7073    0.1798   -1.0473
   -0.3304    0.8076   -0.4129   -0.2135    0.7017    0.2279   -0.5420    1.5357
   -0.4999    0.0412   -0.5062   -0.1989   -0.4876    0.6856    1.6342    0.4344
   -0.0360   -0.7562    1.6197    0.3075    1.8625   -0.6368    0.8252   -1.9171
   -0.1748   -0.0891    0.0809   -0.5723    1.1069   -1.0026    0.2308    0.4699
   -0.9573   -2.0089   -1.0811   -0.9776   -1.2276   -0.1856    0.6716    1.2744
    1.2925    1.0839   -1.1245   -0.4468   -0.6699   -1.0540   -0.5081    0.6385];
Aeq2 = [1.3808   -1.3745   -0.7826   -0.1170   -0.8905   -0.6614   -2.4240    1.5374
    1.3198   -0.8393   -0.7673    0.1685    0.1391    0.2490   -0.2238    0.1401
   -0.9094   -0.2086   -0.1072   -0.5012   -0.2361   -0.3835    0.0581   -1.8628
   -2.3056    0.7559   -0.9771   -0.7051   -0.0755   -0.5285   -0.4246   -0.4542
    1.7887    0.3757   -0.9640    0.5082   -0.3586    0.0554   -0.2029   -0.6521
    0.3908   -1.3454   -2.3792   -0.4209   -2.0776    1.2538   -1.5131    0.1033
    0.0203    1.4819   -0.8382    0.2291   -0.1435   -2.5200   -1.1264   -0.2206
   -0.4060    0.0327    0.2573   -0.9595    1.3933    0.5849   -0.8150   -0.2790
   -1.5349    1.8705   -0.1838   -0.1460    0.6518   -1.0081    0.3666   -0.7337
    0.2214   -1.2090   -0.1676    0.7445   -0.3771    0.9443   -0.5861   -0.0645];

Aeq = [Aeq1 Aeq2];
beq = 10*ones(10,1);
%x0 = zeros(16,1);

% solution
xd = [ -10.000000000000000
   2.269052992688815
  -1.602413253514786
   1.491017732255325
 -10.000000000000000
 -10.000000000000000
   0.244780880938260
  -2.089866347264920
   7.180079834301661
 -10.000000000000000
  -5.812889324900466
  -2.640107948491866
   8.939502280808826
 -10.000000000000000
  -5.170339635437236
 -10.000000000000000];

fvald = -57.191182788616388;

% use MPT interface to solve it
%[x1,fval1] = mpt_solveLP(ones(1,16),[],[],Aeq,beq,x0,solver,-10*ones(16,1),1e4*ones(16,1));

% create structure S
S.f = ones(1,16);
S.A = A;
S.b = b;
S.Ae = Aeq;
S.be = beq;
S.lb = -10*ones(16,1);
S.solver = solver;

% call mpt_solve
R = mpt_solve(S);

% compare results
if norm(R.xopt-xd,Inf)>tol
    error('Results are not equal within a given tolerance.');
end
if norm(R.obj-fvald,Inf)>tol
    error('Results are not equal within a given tolerance.');
end

end